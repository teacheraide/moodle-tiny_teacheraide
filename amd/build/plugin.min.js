define(["editor_tiny/loader","editor_tiny/utils","core/str"],function(u,a,s){"use strict";const i="tiny_teacheraide/plugin",r="tiny_teacheraide",c=`${r}_menuitem`,m="",g=t=>{let e=t.toolbar;return e=a.addToolbarButtons(e,"content",[c]),e},p=t=>{let e=t.menu;return e=a.addMenubarItem(e,"tools",[c].join(" ")),e},h=Object.freeze(Object.defineProperty({__proto__:null,configure:t=>({toolbar:g(t),menu:p(t)})},Symbol.toStringTag,{value:"Module"})),y=async()=>{const[t]=await Promise.all([s.getString("pluginname",r)]);return e=>{e.ui.registry.addMenuItem(c,{icon:m,text:t,onAction:l=>{const d=l.currentTarget||document.activeElement;console.log("Teacher Aide Button Clicked");const n=d.closest(".modal-body");if(document.getElementById("modal-teacheraide-chat")==null){const o=document.createElement("teacheraide-simple-chat");o.style.height="80%",o.id="modal-teacheraide-chat",n.nextSibling?n.parentNode.insertBefore(o,n.nextSibling):n.parentNode.appendChild(o)}}})}};return new Promise(async t=>{const[e,l,d]=await Promise.all([u.getTinyMCE(),a.getPluginMetadata(r,i),y()]);e.PluginManager.add(i,n=>(d(n),l)),t([i,h])})});
//# sourceMappingURL=plugin.min.js.map
