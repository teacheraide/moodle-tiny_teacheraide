{"version":3,"file":"plugin.min.js","sources":["../../vue/src/common.js","../../vue/src/configuration.js","../../vue/src/commands.js","../../vue/src/plugin.js"],"sourcesContent":["export const pluginName = \"tiny_teacheraide/plugin\";\nexport const component = \"tiny_teacheraide\";\nexport const teacherAideMenuItemName = `${component}_menuitem`;\nexport const icon = \"\";\n","import { teacherAideMenuItemName } from \"./common\";\nimport { addMenubarItem, addToolbarButtons } from \"editor_tiny/utils\";\n\nconst getToolbarConfiguration = (instanceConfig) => {\n  let toolbar = instanceConfig.toolbar;\n  toolbar = addToolbarButtons(toolbar, \"content\", [teacherAideMenuItemName]);\n\n  return toolbar;\n};\n\nconst getMenuConfiguration = (instanceConfig) => {\n  let menu = instanceConfig.menu;\n  menu = addMenubarItem(menu, \"tools\", [teacherAideMenuItemName].join(\" \"));\n\n  return menu;\n};\n\nexport const configure = (instanceConfig) => {\n  return {\n    toolbar: getToolbarConfiguration(instanceConfig),\n    menu: getMenuConfiguration(instanceConfig),\n  };\n};\n","import { getString } from \"core/str\";\nimport { component, teacherAideMenuItemName, icon } from \"./common\";\n\nexport const getSetup = async () => {\n  const [buttonTooltip] = await Promise.all([\n    getString(\"pluginname\", component),\n  ]);\n\n  return (editor) => {\n    editor.ui.registry.addMenuItem(teacherAideMenuItemName, {\n      icon,\n      text: buttonTooltip,\n      onAction: () => {\n        // eslint-disable-next-line no-console\n        console.log(\"Teacher Aide Button Clicked\");\n        let tinyChat = document.getElementById(\"chat-screen\");\n        const modal = document.querySelector('[title=\"TeacherAide TinyMCE Plugin\"]').closest('[data-region=\"modal\"]');\n        \n        if (modal) {\n          if(!tinyChat || tinyChat == undefined || tinyChat == null ){\n            tinyChat = document.createElement('div');\n            tinyChat.id = 'chat-screen';\n            tinyChat.classList.add('position-fixed');\n            tinyChat.style.cssText = 'height:100%; top:61px; right:0; z-index:100000; display:block;';\n            \n            const chatComponent = document.createElement('teacheraide-simple-chat');\n            chatComponent.style.height = '80%';\n            \n            tinyChat.appendChild(chatComponent);\n            \n          }\n          modal.appendChild(tinyChat);\n        } \n          //document.querySelector('[title=\"TeacherAide TinyMCE Plugin\"]').closest('[data-region=\"modal\"]').appendChild( `\n          //  <div id=\"TinyChatScreen\" class=\"position-fixed\" style=\"height:100%; top:61px; right:0; z-index:100000; display:block;\">\n          //      <teacheraide-simple-chat style=\"height:80%;\"></teacheraide-simple-chat>\n          //  </div>\n          //`);\n        //else{\n        //  tinyChat.remove();\n        //} \n        //console.log(`Tiny Chat Screen: `,modalElement);\n      },\n    });\n  };\n};\n","import { getTinyMCE } from \"editor_tiny/loader\";\nimport { getPluginMetadata } from \"editor_tiny/utils\";\n\nimport { component, pluginName } from \"./common\";\nimport * as Configuration from \"./configuration\";\nimport * as Commands from \"./commands\";\n\n// eslint-disable-next-line no-async-promise-executor\nexport default new Promise(async (resolve) => {\n  const [tinyMCE, pluginMetadata, setupCommands] = await Promise.all([\n    getTinyMCE(),\n    getPluginMetadata(component, pluginName),\n    Commands.getSetup(),\n  ]);\n\n  tinyMCE.PluginManager.add(pluginName, (editor) => {\n    setupCommands(editor);\n\n    return pluginMetadata;\n  });\n\n  resolve([pluginName, Configuration]);\n});\n"],"names":["pluginName","component","teacherAideMenuItemName","icon","getToolbarConfiguration","instanceConfig","toolbar","addToolbarButtons","getMenuConfiguration","menu","addMenubarItem","getSetup","buttonTooltip","getString","editor","tinyChat","modal","chatComponent","resolve","tinyMCE","pluginMetadata","setupCommands","getTinyMCE","getPluginMetadata","Commands.getSetup","Configuration"],"mappings":"0FAAO,MAAMA,EAAa,0BACbC,EAAY,mBACZC,EAA0B,GAAGD,CAAS,YACtCE,EAAO,GCAdC,EAA2BC,GAAmB,CAClD,IAAIC,EAAUD,EAAe,QAC7B,OAAAC,EAAUC,EAAiB,kBAACD,EAAS,UAAW,CAACJ,CAAuB,CAAC,EAElEI,CACT,EAEME,EAAwBH,GAAmB,CAC/C,IAAII,EAAOJ,EAAe,KAC1B,OAAAI,EAAOC,EAAAA,eAAeD,EAAM,QAAS,CAACP,CAAuB,EAAE,KAAK,GAAG,CAAC,EAEjEO,CACT,kEAE0BJ,IACjB,CACL,QAASD,EAAwBC,CAAc,EAC/C,KAAMG,EAAqBH,CAAc,CAC7C,0CClBaM,EAAW,SAAY,CAClC,KAAM,CAACC,CAAa,EAAI,MAAM,QAAQ,IAAI,CACxCC,EAAS,UAAC,aAAcZ,CAAS,CACrC,CAAG,EAED,OAAQa,GAAW,CACjBA,EAAO,GAAG,SAAS,YAAYZ,EAAyB,CACtD,KAAAC,EACA,KAAMS,EACN,SAAU,IAAM,CAEd,QAAQ,IAAI,6BAA6B,EACzC,IAAIG,EAAW,SAAS,eAAe,aAAa,EACpD,MAAMC,EAAQ,SAAS,cAAc,sCAAsC,EAAE,QAAQ,uBAAuB,EAE5G,GAAIA,EAAO,CACT,GAAG,CAACD,GAAYA,GAAY,MAAaA,GAAY,KAAM,CACzDA,EAAW,SAAS,cAAc,KAAK,EACvCA,EAAS,GAAK,cACdA,EAAS,UAAU,IAAI,gBAAgB,EACvCA,EAAS,MAAM,QAAU,iEAEzB,MAAME,EAAgB,SAAS,cAAc,yBAAyB,EACtEA,EAAc,MAAM,OAAS,MAE7BF,EAAS,YAAYE,CAAa,CAEnC,CACDD,EAAM,YAAYD,CAAQ,CAC3B,CAUF,CACP,CAAK,CACL,CACA,SCrCe,IAAI,QAAQ,MAAOG,GAAY,CAC5C,KAAM,CAACC,EAASC,EAAgBC,CAAa,EAAI,MAAM,QAAQ,IAAI,CACjEC,aAAY,EACZC,EAAiB,kBAACtB,EAAWD,CAAU,EACvCwB,EAAmB,CACvB,CAAG,EAEDL,EAAQ,cAAc,IAAInB,EAAac,IACrCO,EAAcP,CAAM,EAEbM,EACR,EAEDF,EAAQ,CAAClB,EAAYyB,CAAa,CAAC,CACrC,CAAC"}