{"version":3,"file":"plugin.min.js","sources":["../../vue/src/common.js","../../vue/src/configuration.js","../../vue/src/commands.js","../../vue/src/plugin.js"],"sourcesContent":["export const pluginName = \"tiny_teacheraide/plugin\";\nexport const component = \"tiny_teacheraide\";\nexport const teacherAideMenuItemName = `${component}_menuitem`;\nexport const icon = \"\";\n","import { teacherAideMenuItemName } from \"./common\";\nimport { addMenubarItem, addToolbarButtons } from \"editor_tiny/utils\";\n\nconst getToolbarConfiguration = (instanceConfig) => {\n  let toolbar = instanceConfig.toolbar;\n  toolbar = addToolbarButtons(toolbar, \"content\", [teacherAideMenuItemName]);\n\n  return toolbar;\n};\n\nconst getMenuConfiguration = (instanceConfig) => {\n  let menu = instanceConfig.menu;\n  menu = addMenubarItem(menu, \"tools\", [teacherAideMenuItemName].join(\" \"));\n\n  return menu;\n};\n\nexport const configure = (instanceConfig) => {\n  return {\n    toolbar: getToolbarConfiguration(instanceConfig),\n    menu: getMenuConfiguration(instanceConfig),\n  };\n};\n","import { getString } from \"core/str\";\n//import ModalFactory from 'core/modal_factory';\nimport { component, teacherAideMenuItemName, icon } from \"./common\";\n\n\n\n\nexport const getSetup = async () => {\n  // const modal = await ModalFactory.create({\n  //   body: '<teacheraide-simple-chat />',\n  // });\n  \n\n  const [buttonTooltip] = await Promise.all([\n    getString(\"pluginname\", component),\n  ]);\n\n  return (editor) => {\n    editor.ui.registry.addMenuItem(teacherAideMenuItemName, {\n      icon,\n      text: buttonTooltip,\n      onAction: (event) => {\n        // eslint-disable-next-line no-console\n        const button = event.currentTarget || document.activeElement;\n        console.log(\"Teacher Aide Button Clicked\");\n        const modalBody = button.closest('.modal-body');\n        const modalChat = document.getElementById(\"modal-teacheraide-chat\");\n        if(modalChat==undefined){\n          const newElement = document.createElement('teacheraide-simple-chat');\n          newElement.style.height = '80%';\n          newElement.id = \"modal-teacheraide-chat\"\n\n          if (modalBody.nextSibling) {\n            modalBody.parentNode.insertBefore(newElement, modalBody.nextSibling);\n          } else {\n            modalBody.parentNode.appendChild(newElement);\n          }\n        }\n        \n        //modal.show();\n      },\n    });\n  };\n};\n\n","import { getTinyMCE } from \"editor_tiny/loader\";\nimport { getPluginMetadata } from \"editor_tiny/utils\";\n\nimport { component, pluginName } from \"./common\";\nimport * as Configuration from \"./configuration\";\nimport * as Commands from \"./commands\";\n\n// eslint-disable-next-line no-async-promise-executor\nexport default new Promise(async (resolve) => {\n  const [tinyMCE, pluginMetadata, setupCommands] = await Promise.all([\n    getTinyMCE(),\n    getPluginMetadata(component, pluginName),\n    Commands.getSetup(),\n  ]);\n\n  tinyMCE.PluginManager.add(pluginName, (editor) => {\n    setupCommands(editor);\n\n    return pluginMetadata;\n  });\n\n  resolve([pluginName, Configuration]);\n});\n"],"names":["pluginName","component","teacherAideMenuItemName","icon","getToolbarConfiguration","instanceConfig","toolbar","addToolbarButtons","getMenuConfiguration","menu","addMenubarItem","getSetup","buttonTooltip","getString","editor","event","button","modalBody","newElement","resolve","tinyMCE","pluginMetadata","setupCommands","getTinyMCE","getPluginMetadata","Commands.getSetup","Configuration"],"mappings":"0FAAO,MAAMA,EAAa,0BACbC,EAAY,mBACZC,EAA0B,GAAGD,CAAS,YACtCE,EAAO,GCAdC,EAA2BC,GAAmB,CAClD,IAAIC,EAAUD,EAAe,QAC7B,OAAAC,EAAUC,EAAiB,kBAACD,EAAS,UAAW,CAACJ,CAAuB,CAAC,EAElEI,CACT,EAEME,EAAwBH,GAAmB,CAC/C,IAAII,EAAOJ,EAAe,KAC1B,OAAAI,EAAOC,EAAAA,eAAeD,EAAM,QAAS,CAACP,CAAuB,EAAE,KAAK,GAAG,CAAC,EAEjEO,CACT,kEAE0BJ,IACjB,CACL,QAASD,EAAwBC,CAAc,EAC/C,KAAMG,EAAqBH,CAAc,CAC7C,0CCdaM,EAAW,SAAY,CAMlC,KAAM,CAACC,CAAa,EAAI,MAAM,QAAQ,IAAI,CACxCC,EAAS,UAAC,aAAcZ,CAAS,CACrC,CAAG,EAED,OAAQa,GAAW,CACjBA,EAAO,GAAG,SAAS,YAAYZ,EAAyB,CACtD,KAAAC,EACA,KAAMS,EACN,SAAWG,GAAU,CAEnB,MAAMC,EAASD,EAAM,eAAiB,SAAS,cAC/C,QAAQ,IAAI,6BAA6B,EACzC,MAAME,EAAYD,EAAO,QAAQ,aAAa,EAE9C,GADkB,SAAS,eAAe,wBAAwB,GACpD,KAAU,CACtB,MAAME,EAAa,SAAS,cAAc,yBAAyB,EACnEA,EAAW,MAAM,OAAS,MAC1BA,EAAW,GAAK,yBAEZD,EAAU,YACZA,EAAU,WAAW,aAAaC,EAAYD,EAAU,WAAW,EAEnEA,EAAU,WAAW,YAAYC,CAAU,CAE9C,CAGF,CACP,CAAK,CACL,CACA,SCnCe,IAAI,QAAQ,MAAOC,GAAY,CAC5C,KAAM,CAACC,EAASC,EAAgBC,CAAa,EAAI,MAAM,QAAQ,IAAI,CACjEC,aAAY,EACZC,EAAiB,kBAACvB,EAAWD,CAAU,EACvCyB,EAAmB,CACvB,CAAG,EAEDL,EAAQ,cAAc,IAAIpB,EAAac,IACrCQ,EAAcR,CAAM,EAEbO,EACR,EAEDF,EAAQ,CAACnB,EAAY0B,CAAa,CAAC,CACrC,CAAC"}